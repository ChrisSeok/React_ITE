<!DOCTYPE html>
<html lang="en">
    <head> </head>
    <body>
        <script>
            //this - window 전역객체를 뜻한다.
            //global code (함수나 객체 안에 있지 않은 코드)
            var name = '가'; //global 객체의 property로 등록된다.
            let name1 = 'A'; //global 객체가 window이다.

            console.log(name, name1);
            console.log(this.name, this.name1); //this.name1은 undefined(=초기화 안됨)로 출력된다.
            console.log(window.name, window.name1); //window.name1은 undefined(=초기화 안됨)로 출력된다.

            test(); //함수 선언 전에 콜했는데도 실행되는걸 확인할 수 있다. = Hoisting(끌어올림)

            function test() {
                var name = '나';
                console.log(name); //나 //scope상 가장 가까운 name을 찾는다.
                console.log(this.name); //this는 window.
                //함수 내에서 this를 쓰면 한칸 위인 window에서 찾는다.
            }
            // test(); //나 가
            window.test(); //나 가
            // var로 변수 선언하면 전역의??? property로 등록된다.

            console.log('-----------------');
            let test2 = {
                //test2의 상위 scope도 window
                name: '다',
                test: function () {
                    var name = '라';
                    console.log(name); //라
                    console.log(this.name); //다 //function의 this는 한단계 위의 scope에서 찾는다. js의 this는 위치마다 달라진다.
                    console.log(window.name); //가
                }.bind(this), //bind, apply로 this를 타고타고 올라갈 수 있다.
            };
            test2.test();
        </script>
    </body>
</html>
